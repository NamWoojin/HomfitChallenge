<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.ssafy.homfit.model.dao.ChallengeDAO">

	<!-- 챌린지 전체 조회 -->
	<!-- public List<Challenge> selectAllChallenge(); -->
	<select id="selectAllChallenge" resultType="Challenge">
		select *
		from challenge
		order by challenge_id desc
	</select>
	
	
	<!-- 챌린지 상세 조회 -->
	<!-- public Challenge selectChallengeByid(int challenge_id); -->
	<select id="selectChallengeByid" parameterType="int" resultType="Challenge">
		select *
		from challenge
		where challenge_id = #{chchallenge_id}
	</select>
	
	
	<!-- 챌린지 정보 등록 -->
	<!-- public int insertChallenge(Challenge challenge); -->
	<insert id="insertChallenge" parameterType="Challenge" useGeneratedKeys="true" keyProperty="challenge_id"  >
		insert into challenge 
		(challenge_title, challenge_contents, challenge_img, challenge_certify_contents, good_img, bad_img, day_certify_count, only_cam, start_date, end_date, make_date, make_uid, fit_id, check_date, period)
		values(#{challenge_title}, #{challenge_contents}, #{challenge_img}, #{challenge_certify_contents},#{good_img}, #{bad_img}, #{day_certify_count}, #{only_cam}, #{start_date}, #{end_date}, #{make_date}, #{make_uid}, #{fit_id}, #{check_date}, #{period})
	</insert>
	
	
	<!-- 챌린지 정보 수정 -->
	<!-- public int updateChallenge(Challenge challenge); -->
	<update id="updateChallenge" parameterType="Challenge">
		update challenge
		set challenge_title = #{challenge_title},
		challenge_contents = #{challenge_contents},
		challenge_img = #{challenge_img},
		challenge_certify_contents = #{challenge_certify_contents},
		good_img = #{good_img},
		bad_img = #{bad_img},
		day_certify_count = #{day_certify_count},
		only_cam = #{only_cam},
		start_date = #{start_date} ,
		end_date = #{end_date},
		make_date = #{make_date},
		make_uid = #{make_uid},
		fit_id = #{fit_id},
		check_date = #{check_date}
		period = #{period}
		where challenge_id = #{challenge_id}
	</update>
	
	
	<!-- 챌린지 정보 삭제 -->
	<!-- public int deleteChallenge(int challenge_id); -->
	<delete id="deleteChallenge" parameterType="int">
		delete
		from challenge
		where challenge_id = #{challenge_id}
	</delete>
	
	
	<!-- 챌린지 요일 등록 -->
	<!--public int insertChallengeDay(Challenge_day c_day);  -->
	<insert id="insertChallengeDay" parameterType="Challenge_day">
		insert
		into challenge_day
		(challenge_id, day_id)
		values (#{challenge_id}, #{day_id})
	</insert>
	


</mapper>